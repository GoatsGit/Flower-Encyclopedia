# 14주차 실습한 내용

## 실습명: Django 응답 코드 구현

### 실습절차
```
1. Python-Django로 응답 관련 코드 구현
2. 카카오톡 메시지로 영상을 받았을 때에 대한 처리를 구현하지 못한다면 Google Photo 등에 사진을 올린 후
   카카오톡 메시지로 해당 링크만을 전송하는 방법을 통해 구현
```

### 실습결과
```
메시지를 통해 사진을 보냈을때 어떻게 도착하는지 확인하기 위해 생각해보다가 사진 파일을 카카오톡 메시지로 보내면,
파일이 서버에 확장자가 그대로 유지된 채 저장될 것으로 생각되었다.
따라서 메시지의 마지막 내용이 .jpg이면, 해당 내용을 메시지로 리턴하게 해보았다.
```
![3](https://user-images.githubusercontent.com/43947747/49337900-200ece00-f65e-11e8-82b7-e91ec159486b.PNG)
![1](https://user-images.githubusercontent.com/43947747/49337866-95c66a00-f65d-11e8-8908-7cbf30993dff.PNG)
![2](https://user-images.githubusercontent.com/43947747/49337878-c6a69f00-f65d-11e8-9991-f581e9258439.PNG)
```
위의 캡쳐와 같이 카카오톡 서버에 저장된 사진의 링크가 라즈베리파이에 도착한 것을 확인하였고,
이를 통해 사진을 다운로드 받고자 아래의 코드를 구현하여보았다.
```
![4](https://user-images.githubusercontent.com/43947747/49338212-040d2b80-f662-11e8-9a01-da2d12c2c5a9.PNG)
```
위 코드는 사진을 다운로드 하기 위해 사용할 함수를 정의한 것이고,
아래의 사진은 아까의 코드에 사진 다운로드 함수를 호출하는 코드만 추가한 것이다.
```
![6](https://user-images.githubusercontent.com/43947747/49338246-420a4f80-f662-11e8-8703-23f60ca276c0.PNG)
```
응답을 챗봇이 전송하기 전, 사진을 다운로드하게끔 하여 사진이 저장되어지는지 확인해 보았으나 다운로드 되지 않았고,
아래의 사진들에서 확인 가능하듯 메세지가 처리 또한  않아 핑크색으로 로그가 남은 것을 확인할 수 있다.
```
![7](https://user-images.githubusercontent.com/43947747/49338299-c8bf2c80-f662-11e8-9f15-b550dc57307d.PNG)
![5](https://user-images.githubusercontent.com/43947747/49338307-d2e12b00-f662-11e8-9833-bd9b1c38a829.PNG)

### 소감 및 질문
```
이제 사용자가 사진을 챗봇에게 전송하였을때 어떤 식으로 전달되어지는지는 파악하였으나,
Python을 잘 알지 못하고, Django 라이브러리 또한 잘 모르기 때문에 다시 검색해보며 현재 발견된 에러를 수정해야할 것으로 보인다.
```

### 관련링크
```[[python]파이썬으로 웹에 있는 사진 또는 파일 받기](http://www.sagein.net/649)```
```[파이썬 str 문자열 객체 메소드 함수 정리](http://withcoding.com/74)```
